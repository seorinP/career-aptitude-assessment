{"ast":null,"code":"var _jsxFileName = \"C:\\\\study\\\\career-aptitude-assessment\\\\src\\\\pages\\\\Result\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport api from \"utils/api\";\nimport { genders, majorNames, educationLevelNames } from \"utils/constants\";\nimport Chart from \"./Chart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Result = () => {\n  _s();\n\n  const {\n    seq: reportSeq\n  } = useParams();\n  const [report, setReport] = useState({});\n  const isReportLoaded = useMemo(() => {\n    return report && (report === null || report === void 0 ? void 0 : report.user) && (report === null || report === void 0 ? void 0 : report.inspct) && (report === null || report === void 0 ? void 0 : report.result);\n  }, [report]); // const [interpretations, setInterpretations] = useState(null);\n\n  const [majors, setMajors] = useState(null);\n  const [jobs, setJobs] = useState(null);\n  const reportScores = useMemo(() => {\n    var _report$result;\n\n    if (report === null || report === void 0 ? void 0 : (_report$result = report.result) === null || _report$result === void 0 ? void 0 : _report$result.wonScore) {\n      const scores = (report.result.wonScore + \"\").split(\" \").filter(value => {\n        return !!value;\n      }).map(value => {\n        const [seq, score] = value.split(\"=\").map(text => parseInt(text, 10));\n        return {\n          seq,\n          score\n        };\n      });\n      return scores;\n    }\n\n    return [];\n  }, [report]);\n  const sortedReportScores = useMemo(() => {\n    if (Array.isArray(reportScores)) {\n      return [...reportScores].sort((a, b) => {\n        return a.score < b.score ? 1 : -1;\n      });\n    }\n\n    return [];\n  }, [reportScores]);\n  const {\n    name: userName,\n    gender: userGender,\n    date: reportedDate\n  } = useMemo(() => {\n    if (isReportLoaded) {\n      const {\n        name\n      } = report === null || report === void 0 ? void 0 : report.user;\n      const {\n        registDt: registrationDateString,\n        sexdstn: genderSeq\n      } = report === null || report === void 0 ? void 0 : report.inspct;\n      return {\n        name,\n        date: new Date(registrationDateString).toLocaleDateString(),\n        gender: genders[genderSeq]\n      };\n    }\n\n    return {};\n  }, [isReportLoaded, report]);\n  const fetchReport = useCallback(async () => {\n    setReport({});\n    const res = await api.result.getReport({\n      seq: reportSeq\n    });\n\n    if (res) {\n      setReport(res);\n    }\n  }, [reportSeq]); // const fetchInterpretation = useCallback(async () => {\n  //   const res = await api.result.getInterpretation();\n  //   if (res) {\n  //     setInterpretations(res);\n  //   }\n  // }, []);\n\n  const fetchMajors = useCallback(async () => {\n    if (Array.isArray(sortedReportScores) && sortedReportScores.length > 2) {\n      const [{\n        seq: no1\n      }, {\n        seq: no2\n      }] = sortedReportScores;\n\n      if (no1 && no2) {\n        const res = await api.result.getMajors({\n          no1: no1,\n          no2: no2\n        });\n\n        if (res) {\n          setMajors(res);\n        }\n      }\n    }\n  }, [sortedReportScores]);\n  const fetchJobs = useCallback(async () => {\n    if (Array.isArray(sortedReportScores) && sortedReportScores.length > 2) {\n      const [{\n        seq: no1\n      }, {\n        seq: no2\n      }] = sortedReportScores;\n\n      if (no1 && no2) {\n        const res = await api.result.getJobs({\n          no1: no1,\n          no2: no2\n        });\n\n        if (res) {\n          setJobs(res);\n        }\n      }\n    }\n  }, [sortedReportScores]);\n  useEffect(() => {\n    fetchReport();\n  }, [fetchReport]); // useEffect(() => {\n  //   fetchInterpretation();\n  // }, [fetchInterpretation]);\n\n  useEffect(() => {\n    fetchMajors();\n  }, [fetchMajors]);\n  useEffect(() => {\n    fetchJobs();\n  }, [fetchJobs]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"border-bottom d-inline-block\",\n        children: \"\\uC9C1\\uC5C5\\uAC00\\uCE58\\uAD00\\uAC80\\uC0AC \\uACB0\\uACFC\\uD45C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: \"\\uC9C1\\uC5C5\\uAC00\\uCE58\\uAD00\\uC774\\uB780 \\uC9C1\\uC5C5\\uC744 \\uC120\\uD0DD\\uD560 \\uB54C \\uC601\\uD5A5\\uC744 \\uB07C\\uCE58\\uB294 \\uC790\\uC2E0\\uB9CC\\uC758 \\uBBFF\\uC74C\\uACFC \\uC2E0\\uB150\\uC785\\uB2C8\\uB2E4. \\uB530\\uB77C\\uC11C \\uC5EC\\uB7EC\\uBD84\\uC758 \\uC9C1\\uC5C5\\uC0DD\\uD65C\\uACFC \\uAD00\\uB828\\uD558\\uC5EC \\uD3EC\\uAE30\\uD558\\uC9C0 \\uC54A\\uB294 \\uBB34\\uAC8C\\uC911\\uC2EC\\uC758 \\uC5ED\\uD560\\uC744 \\uD55C\\uB2E4\\uACE0 \\uBCFC \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC9C1\\uC5C5\\uAC00\\uCE58\\uAD00\\uAC80\\uC0AC\\uB294 \\uC5EC\\uB7EC\\uBD84\\uC774 \\uC9C1\\uC5C5\\uC744 \\uC120\\uD0DD\\uD560 \\uB54C \\uC0C1\\uB300\\uC801\\uC73C\\uB85C \\uC5B4\\uB5A0\\uD55C \\uAC00\\uCE58\\uB97C \\uC911\\uC694\\uD558\\uAC8C \\uC0DD\\uAC01\\uD558\\uB294\\uC9C0\\uB97C \\uC54C\\uB824\\uC90D\\uB2C8\\uB2E4. \\uB610\\uD55C \\uBCF8\\uC778\\uC774 \\uAC00\\uC7A5 \\uC911\\uC694\\uD558\\uAC8C \\uC0DD\\uAC01\\uD558\\uB294 \\uAC00\\uCE58\\uB97C \\uCDA9\\uC871\\uC2DC\\uCF1C\\uC904 \\uC218 \\uC788\\uB294 \\uC9C1\\uC5C5\\uC5D0 \\uB300\\uD574 \\uC0DD\\uAC01\\uD574 \\uBCFC \\uAE30\\uD68C\\uB97C \\uC81C\\uACF5\\uD569\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"\\uC774\\uB984\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"\\uC131\\uBCC4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"\\uAC80\\uC0AC\\uC77C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: userName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: userGender\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: reportedDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uC9C1\\uC5C5\\uAC00\\uCE58\\uAD00\\uACB0\\uACFC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Chart, {\n        data: reportScores\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uAC00\\uCE58\\uAD00\\uACFC \\uAD00\\uB828\\uC774 \\uB192\\uC740 \\uC9C1\\uC5C5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-secondary p-2 text-center text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uC885\\uC0AC\\uC790 \\uD3C9\\uADE0 \\uD559\\uB825\\uBCC4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        children: /*#__PURE__*/_jsxDEV(\"thead\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              style: {\n                whiteSpace: \"nowrap\",\n                minWidth: 120\n              },\n              children: \"\\uBD84\\uC57C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"\\uC9C1\\uC5C5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), educationLevelNames.map((educationLevelName, educationLevelIndex) => {\n            const jobsByEducationLevel = (jobs || []).filter(job => {\n              return (job === null || job === void 0 ? void 0 : job[2]) === educationLevelIndex + 1;\n            });\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: jobsByEducationLevel.length <= 0 ? {\n                display: \"none\"\n              } : {},\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  whiteSpace: \"nowrap\"\n                },\n                children: educationLevelName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: jobsByEducationLevel.map(job => {\n                  const [jobSeq, jobName] = job;\n                  return /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"mr-2\",\n                    href: `https://www.career.go.kr/cnet/front/base/job/jobView.do?SEQ=${jobSeq}`,\n                    target: \"_blank\",\n                    rel: \"noreferrer\",\n                    children: jobName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 27\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 19\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-secondary p-2 text-center text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uC885\\uC0AC\\uC790 \\uD3C9\\uADE0 \\uC804\\uACF5\\uBCC4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        children: /*#__PURE__*/_jsxDEV(\"thead\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              style: {\n                whiteSpace: \"nowrap\",\n                minWidth: 120\n              },\n              children: \"\\uBD84\\uC57C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"\\uC9C1\\uC5C5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), majorNames.map((majorName, majorNameIndex) => {\n            const jobsByMajor = (majors || []).filter(job => {\n              return (job === null || job === void 0 ? void 0 : job[2]) === majorNameIndex + 1;\n            });\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: jobsByMajor.length <= 0 ? {\n                display: \"none\"\n              } : {},\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  whiteSpace: \"nowrap\"\n                },\n                children: majorName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: jobsByMajor.map(job => {\n                  const [jobSeq, jobName] = job;\n                  return /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"mr-2\",\n                    href: `https://www.career.go.kr/cnet/front/base/job/jobView.do?SEQ=${jobSeq}`,\n                    target: \"_blank\",\n                    rel: \"noreferrer\",\n                    children: jobName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-outline-primary\",\n        to: \"/\",\n        children: \"\\uB2E4\\uC2DC \\uAC80\\uC0AC\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Result, \"pF4VzhR3i3jjwHrwajdRl0LMAxs=\", false, function () {\n  return [useParams];\n});\n\n_c = Result;\nexport default Result;\n\nvar _c;\n\n$RefreshReg$(_c, \"Result\");","map":{"version":3,"sources":["C:/study/career-aptitude-assessment/src/pages/Result/index.js"],"names":["useCallback","useEffect","useMemo","useState","Link","useParams","api","genders","majorNames","educationLevelNames","Chart","Result","seq","reportSeq","report","setReport","isReportLoaded","user","inspct","result","majors","setMajors","jobs","setJobs","reportScores","wonScore","scores","split","filter","value","map","score","text","parseInt","sortedReportScores","Array","isArray","sort","a","b","name","userName","gender","userGender","date","reportedDate","registDt","registrationDateString","sexdstn","genderSeq","Date","toLocaleDateString","fetchReport","res","getReport","fetchMajors","length","no1","no2","getMajors","fetchJobs","getJobs","whiteSpace","minWidth","educationLevelName","educationLevelIndex","jobsByEducationLevel","job","display","jobSeq","jobName","majorName","majorNameIndex","jobsByMajor"],"mappings":"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","sourcesContent":["import { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport api from \"utils/api\";\nimport { genders, majorNames, educationLevelNames } from \"utils/constants\";\nimport Chart from \"./Chart\";\n\nconst Result = () => {\n  const { seq: reportSeq } = useParams();\n  const [report, setReport] = useState({});\n  const isReportLoaded = useMemo(() => {\n    return report && report?.user && report?.inspct && report?.result;\n  }, [report]);\n\n  // const [interpretations, setInterpretations] = useState(null);\n\n  const [majors, setMajors] = useState(null);\n  const [jobs, setJobs] = useState(null);\n\n  const reportScores = useMemo(() => {\n    if (report?.result?.wonScore) {\n      const scores = (report.result.wonScore + \"\")\n        .split(\" \")\n        .filter((value) => {\n          return !!value;\n        })\n        .map((value) => {\n          const [seq, score] = value\n            .split(\"=\")\n            .map((text) => parseInt(text, 10));\n          return { seq, score };\n        });\n      return scores;\n    }\n    return [];\n  }, [report]);\n\n  const sortedReportScores = useMemo(() => {\n    if (Array.isArray(reportScores)) {\n      return [...reportScores].sort((a, b) => {\n        return a.score < b.score ? 1 : -1;\n      });\n    }\n    return [];\n  }, [reportScores]);\n\n  const {\n    name: userName,\n    gender: userGender,\n    date: reportedDate,\n  } = useMemo(() => {\n    if (isReportLoaded) {\n      const { name } = report?.user;\n      const {\n        registDt: registrationDateString,\n        sexdstn: genderSeq,\n      } = report?.inspct;\n\n      return {\n        name,\n        date: new Date(registrationDateString).toLocaleDateString(),\n        gender: genders[genderSeq],\n      };\n    }\n    return {};\n  }, [isReportLoaded, report]);\n\n  const fetchReport = useCallback(async () => {\n    setReport({});\n    const res = await api.result.getReport({ seq: reportSeq });\n    if (res) {\n      setReport(res);\n    }\n  }, [reportSeq]);\n\n  // const fetchInterpretation = useCallback(async () => {\n  //   const res = await api.result.getInterpretation();\n  //   if (res) {\n  //     setInterpretations(res);\n  //   }\n  // }, []);\n\n  const fetchMajors = useCallback(async () => {\n    if (Array.isArray(sortedReportScores) && sortedReportScores.length > 2) {\n      const [{ seq: no1 }, { seq: no2 }] = sortedReportScores;\n      if (no1 && no2) {\n        const res = await api.result.getMajors({\n          no1: no1,\n          no2: no2,\n        });\n        if (res) {\n          setMajors(res);\n        }\n      }\n    }\n  }, [sortedReportScores]);\n\n  const fetchJobs = useCallback(async () => {\n    if (Array.isArray(sortedReportScores) && sortedReportScores.length > 2) {\n      const [{ seq: no1 }, { seq: no2 }] = sortedReportScores;\n      if (no1 && no2) {\n        const res = await api.result.getJobs({\n          no1: no1,\n          no2: no2,\n        });\n        if (res) {\n          setJobs(res);\n        }\n      }\n    }\n  }, [sortedReportScores]);\n\n  useEffect(() => {\n    fetchReport();\n  }, [fetchReport]);\n\n  // useEffect(() => {\n  //   fetchInterpretation();\n  // }, [fetchInterpretation]);\n\n  useEffect(() => {\n    fetchMajors();\n  }, [fetchMajors]);\n\n  useEffect(() => {\n    fetchJobs();\n  }, [fetchJobs]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"text-center mb-4\">\n        <h2 className=\"border-bottom d-inline-block\">직업가치관검사 결과표</h2>\n      </div>\n      <div className=\"mb-4\">\n        직업가치관이란 직업을 선택할 때 영향을 끼치는 자신만의 믿음과\n        신념입니다. 따라서 여러분의 직업생활과 관련하여 포기하지 않는 무게중심의\n        역할을 한다고 볼 수 있습니다. 직업가치관검사는 여러분이 직업을 선택할 때\n        상대적으로 어떠한 가치를 중요하게 생각하는지를 알려줍니다. 또한 본인이\n        가장 중요하게 생각하는 가치를 충족시켜줄 수 있는 직업에 대해 생각해 볼\n        기회를 제공합니다.\n      </div>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">이름</th>\n            <th scope=\"col\">성별</th>\n            <th scope=\"col\">검사일</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>{userName}</td>\n            <td>{userGender}</td>\n            <td>{reportedDate}</td>\n          </tr>\n        </tbody>\n      </table>\n      <br />\n      <br />\n      <div>\n        <h3>직업가치관결과</h3>\n        <Chart data={reportScores} />\n      </div>\n      <br />\n      <br />\n      <div>\n        <h3>가치관과 관련이 높은 직업</h3>\n        <div className=\"bg-secondary p-2 text-center text-white\">\n          <h4>종사자 평균 학력별</h4>\n        </div>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\" style={{ whiteSpace: \"nowrap\", minWidth: 120 }}>\n                분야\n              </th>\n              <th scope=\"col\">직업</th>\n            </tr>\n            {educationLevelNames.map(\n              (educationLevelName, educationLevelIndex) => {\n                const jobsByEducationLevel = (jobs || []).filter((job) => {\n                  return job?.[2] === educationLevelIndex + 1;\n                });\n                return (\n                  <tr\n                    style={\n                      jobsByEducationLevel.length <= 0\n                        ? { display: \"none\" }\n                        : {}\n                    }\n                  >\n                    <td\n                      style={{\n                        whiteSpace: \"nowrap\",\n                      }}\n                    >\n                      {educationLevelName}\n                    </td>\n                    <td>\n                      {jobsByEducationLevel.map((job) => {\n                        const [jobSeq, jobName] = job;\n                        return (\n                          <a\n                            className=\"mr-2\"\n                            href={`https://www.career.go.kr/cnet/front/base/job/jobView.do?SEQ=${jobSeq}`}\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                          >\n                            {jobName}\n                          </a>\n                        );\n                      })}\n                    </td>\n                  </tr>\n                );\n              }\n            )}\n          </thead>\n        </table>\n        <div className=\"bg-secondary p-2 text-center text-white\">\n          <h4>종사자 평균 전공별</h4>\n        </div>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\" style={{ whiteSpace: \"nowrap\", minWidth: 120 }}>\n                분야\n              </th>\n              <th scope=\"col\">직업</th>\n            </tr>\n            {majorNames.map((majorName, majorNameIndex) => {\n              const jobsByMajor = (majors || []).filter((job) => {\n                return job?.[2] === majorNameIndex + 1;\n              });\n              return (\n                <tr style={jobsByMajor.length <= 0 ? { display: \"none\" } : {}}>\n                  <td\n                    style={{\n                      whiteSpace: \"nowrap\",\n                    }}\n                  >\n                    {majorName}\n                  </td>\n                  <td>\n                    {jobsByMajor.map((job) => {\n                      const [jobSeq, jobName] = job;\n                      return (\n                        <a\n                          className=\"mr-2\"\n                          href={`https://www.career.go.kr/cnet/front/base/job/jobView.do?SEQ=${jobSeq}`}\n                          target=\"_blank\"\n                          rel=\"noreferrer\"\n                        >\n                          {jobName}\n                        </a>\n                      );\n                    })}\n                  </td>\n                </tr>\n              );\n            })}\n          </thead>\n        </table>\n      </div>\n      <div className=\"text-center\">\n        <Link className=\"btn btn-outline-primary\" to=\"/\">\n          다시 검사하기\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Result;\n"]},"metadata":{},"sourceType":"module"}