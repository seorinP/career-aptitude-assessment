{"ast":null,"code":"var _jsxFileName = \"C:\\\\study\\\\elice-career-test-master\\\\elice-career-test-master\\\\src\\\\pages\\\\Test\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport * as yup from \"yup\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport ko from \"yup-locales-ko\";\nimport { useForm } from \"react-hook-form\";\nimport { useCallback, useEffect, useMemo, forwardRef, useRef, useState } from \"react\";\nimport api from \"utils/api\";\nimport { useHistory } from \"react-router-dom\";\nimport { genders } from \"utils/constants\";\nimport Question from \"./Question\";\nimport ProgressBar from \"./ProgressBar\";\nimport styled from 'styled-components';\nimport Whale from '../../assets/common/whale.png';\nimport GenderRadioButtonComponent from '../../components/GenderRadioButtonComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nyup.setLocale(ko);\nconst Wrapper = styled.div`\n    \n    display:currentPageIndex === 0 ? 'flex' : 'none';\n    width:100%;\n    background-color:white;\n    flex-direction:column;\n    align-items:center;\n    justify-content:center;\n`;\n_c = Wrapper;\nconst Container = styled.div`\n    margin-top:5rem;\n    margin-bottom:5rem;\n    text-align:center;\n`;\n_c2 = Container;\nconst Intro = styled.div`\n    font-family:'Spoqa-Han-Sans';\n    font-size:1.4rem;\n    font-weight:400;\n    text-align:center;\n    color:#A7A7A7;\n    margin-bottom:4rem;\n`;\n_c3 = Intro;\nconst Title = styled.div`\n    font-family:'Jalnan';\n    font-size:2.5rem;\n    text-align:center;\n    color:#6B3FA0;\n    margin-top:1.9rem;\n    margin-bottom:6.4rem;\n`;\n_c4 = Title;\nconst FormContainer = styled.div`\n    & + & {\n        margin-top: 1rem;\n    }\n`;\n_c5 = FormContainer;\nconst Label = styled.div`\n    text-align: left;\n    font-size: 1rem;\n    color: ##6B3FA0;\n    margin-top: 1.2rem;\n    margin-bottom: 0.25rem;\n`;\n_c6 = Label;\nconst InputField = styled.input`\n    width: 100%;\n    border: 1px solid #6B3FA0;\n    outline: none;\n    border-radius: 0px;\n    line-height: 2.5rem;\n    font-size: 1.2rem;\n    padding-left: 0.5rem;\n    padding-right: 0.5rem;\n`;\nconst Logo = styled.img`\n    width: 1.2rem;\n`;\n_c7 = Logo;\nconst Footer = styled.div`\n    font-family:'Spoqa-Han-Sans';\n    font-size:1.4rem;\n    font-weight:400;\n    text-align:center;\n    margin-top:8.9rem;\n    color:#A7A7A7;\n`;\n_c8 = Footer;\n\nconst Test = () => {\n  _s();\n\n  var _errors$name;\n\n  const history = useHistory();\n  const formRef = useRef(null);\n  const [questions, setQuestions] = useState([]);\n  const [currentPageIndex, setCurrentPageIndex] = useState(0);\n  const lastPageIndex = useMemo(() => {\n    return parseInt((questions || []).length / 5, 10) + 2;\n  }, [questions]);\n  const [selectedSampleValue, setSelectedSampleValue] = useState(null);\n  const isQuestionLoaded = useMemo(() => {\n    if (Array.isArray(questions) && questions.length > 0) {\n      return true;\n    }\n\n    return false;\n  }, [questions]);\n  const visibleQuestions = useMemo(() => {\n    if (currentPageIndex <= 1) {\n      return [];\n    }\n\n    return questions.slice((currentPageIndex - 2) * 5, (currentPageIndex - 1) * 5);\n  }, [currentPageIndex, questions]);\n  const formSchema = useMemo(() => {\n    return yup.object().shape({\n      name: yup.string().required(),\n      gender: yup.string().nullable().oneOf(Object.keys(genders), \"성별을 입력해주세요.\"),\n      answers: yup.array().of(yup.string().min(1)).required().length(questions.length),\n      startDtm: yup.number().required()\n    });\n  }, [questions]); // 여기 forwardRef 수정함\n\n  const {\n    register,\n    handleSubmit,\n    errors,\n    watch\n  } = useForm({\n    resolver: yupResolver(formSchema),\n    mode: \"onChange\",\n    defaultValues: {\n      name: \"\",\n      gender: \"\",\n      answers: [],\n      startDtm: new Date().getTime()\n    }\n  });\n  const isNextDisabled = useMemo(() => {\n    if (!isQuestionLoaded) {\n      return false;\n    }\n\n    if (currentPageIndex <= 0) {\n      const {\n        gender,\n        name\n      } = watch();\n      return !(name && gender);\n    }\n\n    const answers = watch(\"answers\");\n\n    if (!Array.isArray(answers) || !Array.isArray(visibleQuestions)) {\n      return false;\n    }\n\n    return visibleQuestions.filter(_ref => {\n      let {\n        qitemNo\n      } = _ref;\n      return !answers[qitemNo - 1];\n    }).length > 0;\n  }, [currentPageIndex, isQuestionLoaded, visibleQuestions, watch]);\n  const onSubmit = useCallback(async data => {\n    var _data$answers, _data$answers$sort;\n\n    const {\n      name,\n      gender,\n      startDtm\n    } = data;\n    const answers = data === null || data === void 0 ? void 0 : (_data$answers = data.answers) === null || _data$answers === void 0 ? void 0 : (_data$answers$sort = _data$answers.sort((a, b) => {\n      return parseInt(a, 10) > parseInt(b, 10) ? 1 : -1;\n    })) === null || _data$answers$sort === void 0 ? void 0 : _data$answers$sort.map((answer, index) => {\n      return `B${index + 1}=${answer}`;\n    }).join(\" \");\n    const res = await api.test.submit({\n      name,\n      gender,\n      startDtm,\n      answers\n    });\n\n    if (res === null || res === void 0 ? void 0 : res.url) {\n      const seq = (res.url + \"\").split(\"seq=\").pop();\n\n      if (seq) {\n        history.push(`/completed/${seq}`);\n      }\n    }\n\n    console.log(res);\n  }, [history]);\n  const handlePrevClick = useCallback(() => {\n    setCurrentPageIndex(current => {\n      return current <= 0 ? 0 : current - 1;\n    });\n  }, []);\n  const handleNextClick = useCallback(() => {\n    if (isNextDisabled) {\n      return;\n    }\n\n    setCurrentPageIndex(current => {\n      return current >= lastPageIndex ? lastPageIndex : current + 1;\n    });\n  }, [lastPageIndex, isNextDisabled]);\n  const fetchQuestions = useCallback(async () => {\n    const res = await api.test.getQuestions();\n\n    if (Array.isArray(res)) {\n      setQuestions(res);\n    }\n  }, []);\n  const progressPercentage = useMemo(() => {\n    const answers = watch(\"answers\");\n\n    if (Array.isArray(answers) && answers.length > 0) {\n      return parseInt(answers.filter(answer => {\n        return !!answer;\n      }).length / answers.length * 100, 10);\n    }\n\n    return 0;\n  }, [watch]);\n  useEffect(() => {\n    fetchQuestions();\n  }, [fetchQuestions]);\n  useEffect(() => {\n    if (currentPageIndex <= 0) {\n      setSelectedSampleValue(null);\n    }\n  }, [currentPageIndex]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      ref: formRef,\n      noValidate: true,\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: register,\n        type: \"hidden\",\n        name: \"startDtm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Wrapper, {\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          children: [/*#__PURE__*/_jsxDEV(Intro, {\n            children: [\"\\uB0B4 \\uAC00\\uCE58\\uAD00\\uC5D0 \\uB9DE\\uB294 \\uCC30\\uB5A1 \\uC9C1\\uC5C5\\uC740 \\uBB34\\uC5C7\\uC77C\\uAE4C?\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 44\n            }, this), \" \\uB0B4\\uAC8C \\uB531 \\uB9DE\\uB294 \\uC9C1\\uC5C5 \\uCC3E\\uAE30 \\uD14C\\uC2A4\\uD2B8\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Title, {\n            children: \"Find My Fit Job\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"\\uC774\\uB984\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: register,\n              name: \"name\",\n              type: \"text\",\n              className: [\"form-control\", (errors === null || errors === void 0 ? void 0 : errors.name) && \"is-invalid\"].join(\" \")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: errors === null || errors === void 0 ? void 0 : (_errors$name = errors.name) === null || _errors$name === void 0 ? void 0 : _errors$name.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"\\uC131\\uBCC4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check form-check-inline\",\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-check-label\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    ref: register,\n                    name: \"gender\",\n                    type: \"radio\",\n                    className: \"form-check-input\",\n                    value: \"100323\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 23\n                  }, this), \"\\uB0A8\\uC131\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check form-check-inline\",\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-check-label\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    ref: register,\n                    name: \"gender\",\n                    type: \"radio\",\n                    className: \"form-check-input\",\n                    value: \"100324\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 23\n                  }, this), \"\\uC5EC\\uC131\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline-primary\",\n              disabled: isNextDisabled,\n              onClick: handleNextClick,\n              children: \"\\uAC80\\uC0AC \\uC2DC\\uC791\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Footer, {\n            children: [\"made by Jasmine \\xA0\", /*#__PURE__*/_jsxDEV(Logo, {\n              src: Whale\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), currentPageIndex === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col col-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"\\uAC80\\uC0AC \\uC608\\uC2DC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col col-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [progressPercentage, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n            percentage: progressPercentage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mb-4\",\n          children: \"\\uC9C1\\uC5C5\\uACFC \\uAD00\\uB828\\uB41C \\uB450\\uAC1C\\uC758 \\uAC00\\uCE58 \\uC911\\uC5D0\\uC11C \\uC790\\uAE30\\uC5D0\\uAC8C \\uB354 \\uC911\\uC694\\uD55C \\uAC00\\uCE58\\uC5D0 \\uD45C\\uC2DC\\uD558\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Question, {\n          qitemNo: 999,\n          question: \"\\uB450 \\uAC1C \\uAC00\\uCE58 \\uC911\\uC5D0 \\uC790\\uC2E0\\uC5D0\\uAC8C \\uB354 \\uC911\\uC694\\uD55C \\uAC00\\uCE58\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694.\",\n          answer01: \"\\uCC3D\\uC758\\uC131\",\n          answer02: \"\\uC548\\uC815\\uC131\",\n          answerScore01: -1,\n          answerScore02: -2,\n          initialValue: selectedSampleValue,\n          onChange: (qitemNo, answerScore) => {\n            setSelectedSampleValue(answerScore);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-outline-primary\",\n            onClick: handlePrevClick,\n            children: \"\\uC774\\uC804\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-outline-primary\",\n            disabled: !selectedSampleValue,\n            onClick: handleNextClick,\n            children: \"\\uAC80\\uC0AC \\uC2DC\\uC791\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 11\n      }, this), currentPageIndex > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col col-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\uAC80\\uC0AC \\uC9C4\\uD589\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col col-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [progressPercentage, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n          percentage: progressPercentage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this), questions.map(_ref2 => {\n        let {\n          question,\n          answer01,\n          answer02,\n          answerScore01,\n          answerScore02,\n          qitemNo\n        } = _ref2;\n        return /*#__PURE__*/_jsxDEV(Question, {\n          invisible: !visibleQuestions.find(visibleQuestion => {\n            return visibleQuestion.qitemNo === qitemNo;\n          }),\n          ref: register,\n          qitemNo: qitemNo,\n          question: question,\n          answer01: answer01,\n          answer02: answer02,\n          answerScore01: answerScore01,\n          answerScore02: answerScore02\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 15\n        }, this);\n      }), currentPageIndex > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: handlePrevClick,\n          disabled: currentPageIndex <= 0,\n          children: \"< \\uC774\\uC804\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: currentPageIndex >= lastPageIndex ? \"submit\" : \"button\",\n          className: \"btn btn-primary\",\n          onClick: handleNextClick,\n          disabled: isNextDisabled,\n          children: [currentPageIndex === lastPageIndex ? \"제출\" : \"다음\", \" >\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Test, \"kOpIPD/1/g4F1i5wNLaazuRsehk=\", false, function () {\n  return [useHistory, useForm];\n});\n\n_c9 = Test;\nexport default _c10 = /*#__PURE__*/forwardRef(Test);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"Intro\");\n$RefreshReg$(_c4, \"Title\");\n$RefreshReg$(_c5, \"FormContainer\");\n$RefreshReg$(_c6, \"Label\");\n$RefreshReg$(_c7, \"Logo\");\n$RefreshReg$(_c8, \"Footer\");\n$RefreshReg$(_c9, \"Test\");\n$RefreshReg$(_c10, \"%default%\");","map":{"version":3,"sources":["C:/study/elice-career-test-master/elice-career-test-master/src/pages/Test/index.js"],"names":["yup","yupResolver","ko","useForm","useCallback","useEffect","useMemo","forwardRef","useRef","useState","api","useHistory","genders","Question","ProgressBar","styled","Whale","GenderRadioButtonComponent","setLocale","Wrapper","div","Container","Intro","Title","FormContainer","Label","InputField","input","Logo","img","Footer","Test","history","formRef","questions","setQuestions","currentPageIndex","setCurrentPageIndex","lastPageIndex","parseInt","length","selectedSampleValue","setSelectedSampleValue","isQuestionLoaded","Array","isArray","visibleQuestions","slice","formSchema","object","shape","name","string","required","gender","nullable","oneOf","Object","keys","answers","array","of","min","startDtm","number","register","handleSubmit","errors","watch","resolver","mode","defaultValues","Date","getTime","isNextDisabled","filter","qitemNo","onSubmit","data","sort","a","b","map","answer","index","join","res","test","submit","url","seq","split","pop","push","console","log","handlePrevClick","current","handleNextClick","fetchQuestions","getQuestions","progressPercentage","message","answerScore","question","answer01","answer02","answerScore01","answerScore02","find","visibleQuestion"],"mappings":"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","sourcesContent":["import * as yup from \"yup\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport ko from \"yup-locales-ko\";\nimport { useForm } from \"react-hook-form\";\nimport { useCallback, useEffect, useMemo, forwardRef, useRef, useState } from \"react\";\nimport api from \"utils/api\";\nimport { useHistory } from \"react-router-dom\";\nimport { genders } from \"utils/constants\";\nimport Question from \"./Question\";\nimport ProgressBar from \"./ProgressBar\";\nimport styled from 'styled-components';\nimport Whale from '../../assets/common/whale.png';\nimport GenderRadioButtonComponent from '../../components/GenderRadioButtonComponent';\n\nyup.setLocale(ko);\n\n\n\nconst Wrapper = styled.div`\n    \n    display:currentPageIndex === 0 ? 'flex' : 'none';\n    width:100%;\n    background-color:white;\n    flex-direction:column;\n    align-items:center;\n    justify-content:center;\n`\n\nconst Container = styled.div`\n    margin-top:5rem;\n    margin-bottom:5rem;\n    text-align:center;\n`\n\nconst Intro = styled.div`\n    font-family:'Spoqa-Han-Sans';\n    font-size:1.4rem;\n    font-weight:400;\n    text-align:center;\n    color:#A7A7A7;\n    margin-bottom:4rem;\n`\n\nconst Title = styled.div`\n    font-family:'Jalnan';\n    font-size:2.5rem;\n    text-align:center;\n    color:#6B3FA0;\n    margin-top:1.9rem;\n    margin-bottom:6.4rem;\n`\nconst FormContainer = styled.div`\n    & + & {\n        margin-top: 1rem;\n    }\n`\n\nconst Label = styled.div`\n    text-align: left;\n    font-size: 1rem;\n    color: ##6B3FA0;\n    margin-top: 1.2rem;\n    margin-bottom: 0.25rem;\n`\n\nconst InputField = styled.input`\n    width: 100%;\n    border: 1px solid #6B3FA0;\n    outline: none;\n    border-radius: 0px;\n    line-height: 2.5rem;\n    font-size: 1.2rem;\n    padding-left: 0.5rem;\n    padding-right: 0.5rem;\n`\n\nconst Logo = styled.img`\n    width: 1.2rem;\n`\n\nconst Footer = styled.div`\n    font-family:'Spoqa-Han-Sans';\n    font-size:1.4rem;\n    font-weight:400;\n    text-align:center;\n    margin-top:8.9rem;\n    color:#A7A7A7;\n`\n\n\nconst Test = () => {\n  const history = useHistory();\n  const formRef = useRef(null);\n  const [questions, setQuestions] = useState([]);\n  const [currentPageIndex, setCurrentPageIndex] = useState(0);\n\n  \n  const lastPageIndex = useMemo(() => {\n    return parseInt((questions || []).length / 5, 10) + 2;\n  }, [questions]);\n\n  const [selectedSampleValue, setSelectedSampleValue] = useState(null);\n\n  const isQuestionLoaded = useMemo(() => {\n    if (Array.isArray(questions) && questions.length > 0) {\n      return true;\n    }\n    return false;\n  }, [questions]);\n\n  const visibleQuestions = useMemo(() => {\n    if (currentPageIndex <= 1) {\n      return [];\n    }\n    return questions.slice(\n      (currentPageIndex - 2) * 5,\n      (currentPageIndex - 1) * 5\n    );\n  }, [currentPageIndex, questions]);\n\n  const formSchema = useMemo(() => {\n    return yup.object().shape({\n      name: yup.string().required(),\n      gender: yup\n        .string()\n        .nullable()\n        .oneOf(Object.keys(genders), \"성별을 입력해주세요.\"),\n      answers: yup\n        .array()\n        .of(yup.string().min(1))\n        .required()\n        .length(questions.length),\n      startDtm: yup.number().required(),\n    });\n  }, [questions]);\n\n  // 여기 forwardRef 수정함\n  const { register, handleSubmit, errors, watch } = useForm({\n    resolver: yupResolver(formSchema),\n    mode: \"onChange\",\n    defaultValues: {\n      name: \"\",\n      gender: \"\",\n      answers: [],\n      startDtm: new Date().getTime(),\n    },\n  });\n\n  const isNextDisabled = useMemo(() => {\n    if (!isQuestionLoaded) {\n      return false;\n    }\n    if (currentPageIndex <= 0) {\n      const { gender, name } = watch();\n      return !(name && gender);\n    }\n    const answers = watch(\"answers\");\n\n    if (!Array.isArray(answers) || !Array.isArray(visibleQuestions)) {\n      return false;\n    }\n\n    return (\n      visibleQuestions.filter(({ qitemNo }) => {\n        return !answers[qitemNo - 1];\n      }).length > 0\n    );\n  }, [currentPageIndex, isQuestionLoaded, visibleQuestions, watch]);\n\n  const onSubmit = useCallback(\n    async (data) => {\n      const { name, gender, startDtm } = data;\n      const answers = data?.answers\n        ?.sort((a, b) => {\n          return parseInt(a, 10) > parseInt(b, 10) ? 1 : -1;\n        })\n        ?.map((answer, index) => {\n          return `B${index + 1}=${answer}`;\n        })\n        .join(\" \");\n      const res = await api.test.submit({ name, gender, startDtm, answers });\n      if (res?.url) {\n        const seq = (res.url + \"\").split(\"seq=\").pop();\n        if (seq) {\n          history.push(`/completed/${seq}`);\n        }\n      }\n      console.log(res);\n    },\n    [history]\n  );\n\n  const handlePrevClick = useCallback(() => {\n    setCurrentPageIndex((current) => {\n      return current <= 0 ? 0 : current - 1;\n    });\n  }, []);\n\n  const handleNextClick = useCallback(() => {\n    if (isNextDisabled) {\n      return;\n    }\n    setCurrentPageIndex((current) => {\n      return current >= lastPageIndex ? lastPageIndex : current + 1;\n    });\n  }, [lastPageIndex, isNextDisabled]);\n\n  const fetchQuestions = useCallback(async () => {\n    const res = await api.test.getQuestions();\n    if (Array.isArray(res)) {\n      setQuestions(res);\n    }\n  }, []);\n\n  const progressPercentage = useMemo(() => {\n    const answers = watch(\"answers\");\n    if (Array.isArray(answers) && answers.length > 0) {\n      return parseInt(\n        (answers.filter((answer) => {\n          return !!answer;\n        }).length /\n          answers.length) *\n          100,\n        10\n      );\n    }\n    return 0;\n  }, [watch]);\n\n  useEffect(() => {\n    fetchQuestions();\n  }, [fetchQuestions]);\n\n  useEffect(() => {\n    if (currentPageIndex <= 0) {\n      setSelectedSampleValue(null);\n    }\n  }, [currentPageIndex]);\n\n  return (\n    <div className=\"container\">\n\n      <form ref={formRef} noValidate onSubmit={handleSubmit(onSubmit)}>\n        <input ref={register} type=\"hidden\" name=\"startDtm\" />\n        <Wrapper>\n        {/* <div style={{ display: currentPageIndex === 0 ? \"block\" : \"none\" }}> */}\n          <Container>\n          {/* <div className=\"row justify-content-md-center\">\n            <div className=\"col col-auto\"> */}\n            \n              <Intro>내 가치관에 맞는 찰떡 직업은 무엇일까?<br /> 내게 딱 맞는 직업 찾기 테스트</Intro>\n\n              {/* 제목 작성 */}\n              <Title>Find My Fit Job</Title>\n\n              {/* 이름 작성 */}\n              <FormContainer>\n              {/* <div className=\"form-group\"> */}\n                {/* <label> */}\n                  <Label>이름</Label>\n                  <input\n                    ref={register}\n                    name=\"name\"\n                    type=\"text\"\n                    className={[\n                      \"form-control\",\n                      errors?.name && \"is-invalid\",\n                    ].join(\" \")}\n                  />\n                  <div className=\"invalid-feedback\">\n                    {errors?.name?.message}\n                  </div>\n                {/* </label> */}\n              {/* </div> */}\n              </FormContainer>\n\n              {/* 성별 선택 */}\n              <FormContainer>\n              {/* <div className=\"form-group\"> */}\n                <Label>성별</Label>\n                <div>\n                  <div className=\"form-check form-check-inline\">\n                    <label className=\"form-check-label\">\n                      <input\n                        ref={register}\n                        name=\"gender\"\n                        type=\"radio\"\n                        className=\"form-check-input\"\n                        value=\"100323\"\n                      />\n                      남성\n                    </label>\n                  </div>\n\n                  <div className=\"form-check form-check-inline\">\n                    <label className=\"form-check-label\">\n                      <input\n                        ref={register}\n                        name=\"gender\"\n                        type=\"radio\"\n                        className=\"form-check-input\"\n                        value=\"100324\"\n                      />\n                      여성\n                    </label>\n                  </div>\n                </div>\n              {/* </div> */}\n              </FormContainer>\n\n              {/* 시작화면 버튼 */}\n              <div className=\"text-center\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-outline-primary\"\n                  disabled={isNextDisabled}\n                  onClick={handleNextClick}\n                >\n                  검사 시작\n                </button>\n              </div>\n\n              <Footer>made by Jasmine &nbsp;<Logo src={Whale} /></Footer>\n\n            {/* </div>\n          </div> */}\n          </Container>\n        {/* </div> */}\n        </Wrapper>\n\n\n        {/* 페이지가 0부터 시작하는데 위 페이지가 랜딩페이지 다음부터는 검사 예시 페이지 */}\n        {currentPageIndex === 1 && (\n          <div>\n            <div className=\"mb-4\">\n              <div className=\"row justify-content-between\">\n                <div className=\"col col-auto\">\n                  <h2>검사 예시</h2>\n                </div>\n                <div className=\"col col-auto\">\n                  <h3>{progressPercentage}%</h3>\n                </div>\n              </div>\n              <ProgressBar percentage={progressPercentage} />\n            </div>\n            <h4 className=\"mb-4\">\n              직업과 관련된 두개의 가치 중에서 자기에게 더 중요한 가치에\n              표시하세요.\n            </h4>\n\n\n            <Question\n              qitemNo={999}\n              question=\"두 개 가치 중에 자신에게 더 중요한 가치를 선택하세요.\"\n              answer01=\"창의성\"\n              answer02=\"안정성\"\n              answerScore01={-1}\n              answerScore02={-2}\n              initialValue={selectedSampleValue}\n              onChange={(qitemNo, answerScore) => {\n                setSelectedSampleValue(answerScore);\n              }}\n            />\n\n\n            <div className=\"text-center\">\n              <button\n                type=\"button\"\n                className=\"btn btn-outline-primary\"\n                onClick={handlePrevClick}\n              >\n                이전\n              </button>\n              &nbsp;\n              <button\n                type=\"button\"\n                className=\"btn btn-outline-primary\"\n                disabled={!selectedSampleValue}\n                onClick={handleNextClick}\n              >\n                검사 시작\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* 본격적으로 검사 시작 */}\n        {currentPageIndex > 1 && (\n          <div className=\"mb-4\">\n            <div className=\"row justify-content-between\">\n              {/* 여긴 Logo가 든 Header를 넣자. Home으로 돌아가기 */}\n              <div className=\"col col-auto\">\n                <h2>검사 진행</h2>\n              </div>\n              <div className=\"col col-auto\">\n                <h3>{progressPercentage}%</h3>\n              </div>\n            </div>\n            <ProgressBar percentage={progressPercentage} />\n          </div>\n        )}\n        {questions.map(\n          ({\n            question,\n            answer01,\n            answer02,\n            answerScore01,\n            answerScore02,\n            qitemNo,\n          }) => {\n            return (\n              <Question\n                invisible={\n                  !visibleQuestions.find((visibleQuestion) => {\n                    return visibleQuestion.qitemNo === qitemNo;\n                  })\n                }\n                ref={register}\n                qitemNo={qitemNo}\n                question={question}\n                answer01={answer01}\n                answer02={answer02}\n                answerScore01={answerScore01}\n                answerScore02={answerScore02}\n              />\n            );\n          }\n        )}\n\n        {/* 아래 버튼들 */}\n        {currentPageIndex > 1 && (\n          <div className=\"d-flex justify-content-between\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handlePrevClick}\n              disabled={currentPageIndex <= 0}\n            >\n              &lt; 이전\n            </button>\n            <button\n              type={currentPageIndex >= lastPageIndex ? \"submit\" : \"button\"}\n              className=\"btn btn-primary\"\n              onClick={handleNextClick}\n              disabled={isNextDisabled}\n            >\n              {currentPageIndex === lastPageIndex ? \"제출\" : \"다음\"} &gt;\n            </button>\n          </div>\n        )}\n\n        {/* 여기 footer 넣으면 되겠다 */}\n\n      </form>\n    </div>\n  );\n};\n\nexport default forwardRef(Test);\n"]},"metadata":{},"sourceType":"module"}